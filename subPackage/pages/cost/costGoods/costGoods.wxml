<wxs src="../../../../utils/fn.wxs" module="tool" />

<!-- 
<view class="top_bar flex-row bg-white"  style=" padding-top: {{statusBarHeight}}rpx;">
  <image src="../../../../images/back.png" class="back_icon" bindtap="toBack"></image>
  <view class="flex-row">
    <text class="top_bar_title margin-right">{{disGoods.gbDgGoodsName}}</text>
    <text class="top_bar_title_small">{{disGoods.gbDgGoodsDetail != null ? disGoods.gbDgGoodsDetail : ''}}</text>
  </view>
</view> -->


<view class="flex flex-column">

<back-navbar style="height: {{navBarHeight}}rpx;" title="{{disGoods.gbDgGoodsName}}" avatar="/images/back-gray.png" button-text="设置" bindnavbuttontap="toBack"></back-navbar>



<!-- top -->

<view class=" flex-row-between pl-20 pr-20 border-bottom bg-white">
  <view class="flex-row">
    <view class="p-20" bindtap="toDatePage">
      <image src="../../../../images/calender.png" class="icon"></image>
    </view>
    <view class="flex-column">
      <view class="flex-row" wx:if="{{startDate && startDate == stopDate}}">
        <view class=" small">{{tool.transferDateString(startDate)}}</view>
      </view>
      <view class="flex-row" wx:else>
        <view class=" small" wx:if="{{startDate}}"> {{tool.transferDateString(startDate)}}</view>
        <text class="with-s-padding">-</text>
        <view class=" small" wx:if="{{stopDate}}">{{tool.transferDateString(stopDate)}}</view>
      </view>
    </view>
  </view>
  <view class="flex-row p-20" bindtap="toFilter">
    <image src="{{searchDepIds !== -1 ? '/images/filter.png' : '/images/filter-3-fill.png'}}" class="icon margin-right"></image>
  </view>
</view>

<!-- ../top -->


<block wx:if="{{searchDepIds == -1}}">
  <view class="flex-column">

    <view class='navbar bg-white  p-20'>
      <view id="0" class="navbar-item {{tab1Index==0?'bar-item-on':''}}" data-index='0' bindtap='onTab1Click' hover-class="hover" data-type="profit">
        <view class='flex-column' style="width: {{(windowWidth- 40) / 4}}rpx;">
          <view class="middle">{{fenxiType == 'weightEcharts' ? '总数量' : '总成本'}}</view>
          <view class="normal">{{oneTotal}}{{fenxiType == 'weightEcharts' ? disGoods.gbDgGoodsStandardname : '元'}}</view>
        </view>
      </view>
      <view id="1" class="navbar-item {{tab1Index==1?'bar-item-on':''}}" data-index='1' bindtap='onTab1Click' hover-class="hover" data-type="sales">
        <view class='flex-column' style="width: {{(windowWidth- 40) / 4}}rpx;">
          <view class="middle">{{fenxiType == 'weightEcharts' ? '售出数量' : '售出成本'}}</view>
          <view class="normal">{{salesTotal}}{{fenxiType == 'weightEcharts' ? disGoods.gbDgGoodsStandardname : '元'}}</view>
        </view>
      </view>
      <view id="2" class="navbar-item {{tab1Index==2?'bar-item-on':''}}" data-index='2' bindtap='onTab1Click' hover-class="hover" data-type="loss">
        <view class='flex-column' style="width: {{(windowWidth- 40) / 4}}rpx;">
          <view class="middle">{{fenxiType == 'weightEcharts' ? '损耗数量' : '损耗成本'}}</view>
          <view class="normal">{{lossTotal}}{{fenxiType == 'weightEcharts' ? disGoods.gbDgGoodsStandardname : '元'}}</view>
        </view>
      </view>

      <view id="3" class="navbar-item {{tab1Index==3?'bar-item-on':''}}" data-index='3' bindtap='onTab1Click' hover-class="hover" data-type="waste">
        <view class='flex-column' style="width: {{(windowWidth- 40)  / 4}}rpx;">
          <view class="middle">{{fenxiType == 'weightEcharts' ? '废弃数量' : '废弃成本'}}</view>
          <view class="normal">{{wasteTotal}}{{fenxiType == 'weightEcharts' ? disGoods.gbDgGoodsStandardname : '元'}}</view>
        </view>
      </view>

      <view class="navbar-slider" style="left: {{sliderLeft}}rpx; width:{{(windowWidth - 40)/ 4  }}rpx; transform: translateX({{sliderOffset}}px); -webkit-transform: translateX({{sliderOffset}}px);">
      </view>
    </view>
    <swiper class="swiper-box" style="height: {{windowHeight - 280}}rpx; " duration="300" bindanimationfinish="animationfinish" current="{{itemIndex}}" data-index='{{itemIndex}}'>
      <!-- totalWeight -->
      <swiper-item style="height: 100%;">

        <scroll-view wx:if="{{itemList.length > 0}}" scroll-y style="height:{{windowHeight - 400}}rpx; ">
          <view class="flex-column p-20">
            <view class="flex-column echarts_back  p-20 ">
              <view class="" style="width: {{windowWidth - 100}}rpx; height: {{windowHeight / 4}}rpx; ">

                <ec-canvas wx:if="{{tab1Index == 0}}" id="mychartTop" canvas-id="mychart-bar" ec="{{ eca }}"></ec-canvas>

              </view>
            </view>


          </view>
          <view  wx:for="{{itemList}}" wx:key="date">
            <view class="flex-row-between p-20 border-bottom bg-white radius-20" bindtap="toDepReduce" data-date="{{item.date}}" data-value="{{item.value}}">
              <text>{{item.date}}</text>
              
              <text>{{item.value}}{{fenxiType == 'costEcharts' ? '元' : disGoods.gbDgGoodsStandardname}}</text>
            </view>

          </view>

          <view style="height: 100rpx;"></view>

        </scroll-view>

        <view class="emptyView {{itemList.length == 0  ? 'is-active' : ''}}" style="height: {{windowHeight - 760}}rpx; text-align:center;">
          <view class="empty_View flex-column-center">
            <image class="empty_image" src="../../../../images/file-empty.png"></image>
            <text class="normal">暂无数据</text>
          </view>
        </view>

      </swiper-item>
      <!-- sales -->
      <swiper-item style="height: 100%;">

        <scroll-view scroll-y wx:if="{{itemList.length > 0}}" style="height:{{windowHeight - 400}}rpx; ">
          <view class="flex-column p-20">
            <view class="flex-column picture_body  p-20 ">
              <view class="" style="width: {{windowWidth - 100}}rpx; height: {{windowHeight / 4}}rpx;">
                <ec-canvas wx:if="{{tab1Index == 1}}" id="mychartSales" canvas-id="mychart-bar" ec="{{ ecs }}"></ec-canvas>
              </view>
            </view>
          </view>

          <view wx:for="{{itemList}}" wx:key="date">
            <view class="flex-row-between p-20 border-bottom bg-white" bindtap="toDepReduce" data-date="{{item.date}}" data-value="{{item.value}}">
              <text>{{item.date}}</text>
              <text>{{item.value}}{{fenxiType == 'costEcharts' ? '元' : disGoods.gbDgGoodsStandardname}}</text>            </view>
          </view>

          <view style="height: 100rpx;"></view>
        </scroll-view>

        <view class="emptyView {{itemList.length == 0  ? 'is-active' : ''}}" style="height: {{windowHeight - 760}}rpx; text-align:center;">
          <view class="empty_View flex-column-center">
            <image class="empty_image" src="../../../../images/file-empty.png"></image>
            <text class="normal">暂无数据</text>
          </view>
        </view>
      </swiper-item>

      <!-- loss -->
      <swiper-item style="height: 100%;">

        <scroll-view scroll-y style="height:{{windowHeight - 400}}rpx;  " wx:if="{{itemList.length > 0}}">
          <view class="flex-column p-20">
            <view class="flex-column picture_body  p-20 ">

              <view class="" style="width: {{windowWidth - 100}}rpx; height: {{windowHeight / 4}}rpx; ">
                <ec-canvas wx:if="{{tab1Index == 2}}" id="mychartLoss" canvas-id="mychart-bar" ec="{{ ecl }}"></ec-canvas>

              </view>
            </view>
          </view>

          <view wx:for="{{itemList}}" wx:key="date">
            <view class="flex-row-between p-20 border-bottom bg-white" bindtap="toDepReduce" data-date="{{item.date}}" data-value="{{item.value}}">
              <text>{{item.date}}</text>
              <text>{{item.value}}{{fenxiType == 'costEcharts' ? '元' : disGoods.gbDgGoodsStandardname}}</text>            </view>

          </view>
          <view style="height: 100rpx;"> </view>
        </scroll-view>


        <view class="emptyView {{itemList.length == 0  ? 'is-active' : ''}}" style="height: {{windowHeight - 760}}rpx; text-align:center;">
          <view class="empty_View flex-column-center">
            <image class="empty_image" src="../../../../images/file-empty.png"></image>
            <text class="normal">暂无数据</text>
          </view>
        </view>

      </swiper-item>

      <!-- waste -->
      <swiper-item style="height: 100%;">

        <scroll-view scroll-y wx:if="{{itemList.length > 0}}" style="height:{{windowHeight - 400}}rpx; ">
          <view class="flex-column p-20">
            <view class="flex-column picture_body  p-20 ">

              <view class="" style="width: {{windowWidth - 100}}rpx; height: {{windowHeight / 4}}rpx;">
                <ec-canvas wx:if="{{tab1Index == 3}}" id="mychartWaste" canvas-id="mychart-bar" ec="{{ ecw }}"></ec-canvas>

              </view>
            </view>
          </view>

          <view  wx:for="{{itemList}}" wx:key="date">
            <view class="flex-row-between p-20 border-bottom bg-white" bindtap="toDepReduce" data-date="{{item.date}}" data-value="{{item.value}}">
              <text>{{item.date}}</text>
              <text>{{item.value}}{{fenxiType == 'costEcharts' ? '元' : disGoods.gbDgGoodsStandardname}}</text>            </view>
          </view>
          <view style="height: 100rpx;"></view>
        </scroll-view>

        <view class="emptyView {{itemList.length == 0  ? 'is-active' : ''}}" style="height: {{windowHeight - 760}}rpx; text-align:center;">
          <view class="empty_View flex-column-center">
            <image class="empty_image" src="../../../../images/file-empty.png"></image>
            <text class="normal">暂无数据</text>
          </view>
        </view>
      </swiper-item>

    </swiper>

  </view>

</block>

<block wx:else="">

  <block wx:if="{{searchDepIdsArr.length == 1}}">

    <view class="flex-row border-bottom">
      <scroll-view scroll-x="true" show-scrollbar="false" enhanced="true" class="nav_dep" scroll-with-animation="{{true}}" scroll-left="{{leftWidthDep}}" style="width: {{windowWidth - 40 }}rpx; ">
        <text id="type_dep_fixed" data-id="-1" class="dep_item  is-active" data-index='0' data-total="{{whichTotalDep}}" bindtap="onTab1ClickDepTypeOfFenxi" data-item="all">{{resultDepList[0].gbDepartmentName}}({{resultDepList[0].depCostGoodsTotalString}}{{fenxiType == 'costEcharts' ? '元' : ''}})</text>
      </scroll-view>

    </view>

    <view class='navbar bg-white  p-20'>
        <view id="0" class="navbar-item {{tab1Index==0?'bar-item-on':''}}" data-index='0' bindtap='onTab1Click' hover-class="hover" data-type="profit">
          <view class='flex-column' style="width: {{(windowWidth- 40) / 4}}rpx;">
            <text class="middle">{{fenxiType == 'weightEcharts' ? '总数量' : '总成本'}}</text>
            <text class="normal">{{oneTotal}}{{fenxiType == 'weightEcharts' ? disGoods.gbDgGoodsStandardname : '元'}}</text>
          </view>
        </view>
        <view id="1" class="navbar-item {{tab1Index==1?'bar-item-on':''}}" data-index='1' bindtap='onTab1Click' hover-class="hover" data-type="sales">
          <view class='flex-column' style="width: {{(windowWidth- 40) / 4}}rpx;">
            <text class="middle">{{fenxiType == 'weightEcharts' ? '售出数量' : '售出成本'}}</text>
            <text class="normal">{{salesTotal}}{{fenxiType == 'weightEcharts' ? disGoods.gbDgGoodsStandardname : '元'}}</text>
          </view>
        </view>
        <view id="2" class="navbar-item {{tab1Index==2?'bar-item-on':''}}" data-index='2' bindtap='onTab1Click' hover-class="hover" data-type="loss">
          <view class='flex-column' style="width: {{(windowWidth- 40) / 4}}rpx;">
            <text class="middle">{{fenxiType == 'weightEcharts' ? '损耗数量' : '损耗成本'}}</text>
            <text class="normal">{{lossTotal}}{{fenxiType == 'weightEcharts' ? disGoods.gbDgGoodsStandardname : '元'}}</text>
          </view>
        </view>

        <view id="3" class="navbar-item {{tab1Index==3?'bar-item-on':''}}" data-index='3' bindtap='onTab1Click' hover-class="hover" data-type="waste">
          <view class='flex-column' style="width: {{(windowWidth- 40)  / 4}}rpx;">
            <text class="middle">{{fenxiType == 'weightEcharts' ? '废弃数量' : '废弃成本'}}</text>
            <text class="normal">{{wasteTotal}}{{fenxiType == 'weightEcharts' ? disGoods.gbDgGoodsStandardname : '元'}}</text>
          </view>
        </view>

        <view class="navbar-slider" style="left: {{sliderLeft}}rpx; width:{{(windowWidth - 40)/ 4  }}rpx; transform: translateX({{sliderOffset}}px); -webkit-transform: translateX({{sliderOffset}}px);">
        </view>
      </view>

    <swiper class="swiper-box" style="height: {{windowHeight - 280}}rpx; " duration="300" bindanimationfinish="animationfinish" current="{{itemIndex}}" data-index='{{itemIndex}}'>
      <!-- totalWeight -->
      <swiper-item style="height: 100%;">

        <scroll-view wx:if="{{itemList.length > 0}}" scroll-y style="height:{{windowHeight - 400}}rpx; ">
          <view class="flex-column p-20">
            <view class="flex-column echarts_back  p-20 ">
              <view class="" style="width: {{windowWidth - 100}}rpx; height: {{windowHeight / 4}}rpx; ">

                <ec-canvas wx:if="{{tab1Index == 0}}" id="mychartTop" canvas-id="mychart-bar" ec="{{ eca }}"></ec-canvas>

              </view>
            </view>


          </view>
          <view  wx:for="{{itemList}}" wx:key="date">
            <view class="flex-row-between p-20 border-bottom bg-white radius-20" bindtap="toDepReduce" data-date="{{item.date}}" data-value="{{item.value}}">
              <text>{{item.date}}</text>
              <text>{{item.value}}{{disGoods.gbDgGoodsStandardname}}</text>
            </view>

          </view>

          <view style="height: 100rpx;"></view>

        </scroll-view>

        <view class="emptyView {{itemList.length == 0  ? 'is-active' : ''}}" style="height: {{windowHeight - 760}}rpx; text-align:center;">
          <view class="empty_View flex-column-center">
            <image class="empty_image" src="../../../../images/file-empty.png"></image>
            <text class="normal">暂无数据</text>
          </view>
        </view>

      </swiper-item>
      <!-- sales -->
      <swiper-item style="height: 100%;">

        <scroll-view scroll-y wx:if="{{itemList.length > 0}}" style="height:{{windowHeight - 400}}rpx; ">
          <view class="flex-column p-20">
            <view class="flex-column picture_body  p-20 ">
              <view class="" style="width: {{windowWidth - 100}}rpx; height: {{windowHeight / 4}}rpx;">
                <ec-canvas wx:if="{{tab1Index == 1}}" id="mychartSales" canvas-id="mychart-bar" ec="{{ ecs }}"></ec-canvas>
              </view>
            </view>
          </view>

          <view  wx:for="{{itemList}}" wx:key="date">
            <view class="flex-row-between p-20 border-bottom bg-white" bindtap="toDepReduce" data-date="{{item.date}}" data-value="{{item.value}}">
              <text>{{item.date}}</text>
              <text>{{item.value}}{{disGoods.gbDgGoodsStandardname}}</text>
            </view>
          </view>

          <view style="height: 100rpx;"></view>
        </scroll-view>

        <view class="emptyView {{itemList.length == 0  ? 'is-active' : ''}}" style="height: {{windowHeight - 760}}rpx; text-align:center;">
          <view class="empty_View flex-column-center">
            <image class="empty_image" src="../../../../images/file-empty.png"></image>
            <text class="normal">暂无数据</text>
          </view>
        </view>
      </swiper-item>

      <!-- loss -->
      <swiper-item style="height: 100%;">

        <scroll-view scroll-y style="height:{{windowHeight - 400}}rpx;  " wx:if="{{itemList.length > 0}}">
          <view class="flex-column p-20">
            <view class="flex-column picture_body  p-20 ">

              <view class="" style="width: {{windowWidth - 100}}rpx; height: {{windowHeight / 4}}rpx; ">
                <ec-canvas wx:if="{{tab1Index == 2}}" id="mychartLoss" canvas-id="mychart-bar" ec="{{ ecl }}"></ec-canvas>

              </view>
            </view>
          </view>

          <view  wx:for="{{itemList}}" wx:key="date">
            <view class="flex-row-between p-20 border-bottom bg-white" bindtap="toDepReduce" data-date="{{item.date}}" data-value="{{item.value}}">
              <text>{{item.date}}</text>
              <text>{{item.value}}{{disGoods.gbDgGoodsStandardname}}</text>
            </view>

          </view>
          <view style="height: 100rpx;"> </view>
        </scroll-view>


        <view class="emptyView {{itemList.length == 0  ? 'is-active' : ''}}" style="height: {{windowHeight - 760}}rpx; text-align:center;">
          <view class="empty_View flex-column-center">
            <image class="empty_image" src="../../../../images/file-empty.png"></image>
            <text class="normal">暂无数据</text>
          </view>
        </view>

      </swiper-item>

      <!-- waste -->
      <swiper-item style="height: 100%;">

        <scroll-view scroll-y wx:if="{{itemList.length > 0}}" style="height:{{windowHeight - 400}}rpx; ">
          <view class="flex-column p-20">
            <view class="flex-column picture_body  p-20 ">

              <view class="" style="width: {{windowWidth - 100}}rpx; height: {{windowHeight / 4}}rpx;">
                <ec-canvas wx:if="{{tab1Index == 3}}" id="mychartWaste" canvas-id="mychart-bar" ec="{{ ecw }}"></ec-canvas>

              </view>
            </view>
          </view>

          <view  wx:for="{{itemList}}" wx:key="date">
            <view class="flex-row-between p-20 border-bottom bg-white" bindtap="toDepReduce" data-date="{{item.date}}" data-value="{{item.value}}">
              <text>{{item.date}}</text>
              <text>{{item.value}}{{disGoods.gbDgGoodsStandardname}}</text>
            </view>
          </view>
          <view style="height: 100rpx;"></view>
        </scroll-view>

        <view class="emptyView {{itemList.length == 0  ? 'is-active' : ''}}" style="height: {{windowHeight - 760}}rpx; text-align:center;">
          <view class="empty_View flex-column-center">
            <image class="empty_image" src="../../../../images/file-empty.png"></image>
            <text class="normal">暂无数据</text>
          </view>
        </view>
      </swiper-item>

    </swiper>






  </block>


  <block wx:else="">

    <view class="flex-row border-bottom">
      <scroll-view scroll-x="true" show-scrollbar="false" enhanced="true" class="nav_dep" scroll-with-animation="{{true}}" scroll-left="{{leftWidthDep}}" style="width: {{windowWidth - 40 }}rpx; ">

        <text id="type_dep_fixed" data-id="-1" class="dep_item  {{itemIndexDep == 0 ? 'is-active' : ''}}" data-index='0' data-total="{{whichTotalDep}}" bindtap="onTab1ClickDepTypeOfFenxi" data-item="all">{{resultDepList.length}}个门店({{searchTotal}}{{fenxiType == 'costEcharts' ? '元' : ''}})</text>

        <text id="type_dep_{{dep.gbDepartmentId}}" data-id="{{dep.gbDepartmentId}}" class="dep_item {{itemIndexDep == depIndex + 1 ? 'is-active' : ''}}" data-index='{{depIndex + 1}}' bindtap="onTab1ClickDepTypeOfFenxi" data-item="{{dep}}" wx:for="{{resultDepList}}" wx:for-item="dep" wx:for-index="depIndex" data-name="{{dep.gbDepartmentName}}">{{dep.gbDepartmentName}}({{dep.depCostGoodsTotalString}}{{fenxiType == 'costEcharts' ? '元' : ''}})</text>
      </scroll-view>

    </view>


    <block wx:if="{{oneTotal > 0}}">

      <view class='navbar bg-white  p-20'>
        <view id="0" class="navbar-item {{tab1Index==0?'bar-item-on':''}}" data-index='0' bindtap='onTab1Click' hover-class="hover" data-type="profit">
          <view class='flex-column' style="width: {{(windowWidth- 40) / 4}}rpx;">
            <text class="middle">{{fenxiType == 'weightEcharts' ? '总数量' : '总成本'}}</text>
            <text class="normal">{{oneTotal}}{{fenxiType == 'weightEcharts' ? disGoods.gbDgGoodsStandardname : '元'}}</text>
          </view>
        </view>
        <view id="1" class="navbar-item {{tab1Index==1?'bar-item-on':''}}" data-index='1' bindtap='onTab1Click' hover-class="hover" data-type="sales">
          <view class='flex-column' style="width: {{(windowWidth- 40) / 4}}rpx;">
            <text class="middle">{{fenxiType == 'weightEcharts' ? '售出数量' : '售出成本'}}</text>
            <text class="normal">{{salesTotal}}{{fenxiType == 'weightEcharts' ? disGoods.gbDgGoodsStandardname : '元'}}</text>
          </view>
        </view>
        <view id="2" class="navbar-item {{tab1Index==2?'bar-item-on':''}}" data-index='2' bindtap='onTab1Click' hover-class="hover" data-type="loss">
          <view class='flex-column' style="width: {{(windowWidth- 40) / 4}}rpx;">
            <text class="middle">{{fenxiType == 'weightEcharts' ? '损耗数量' : '损耗成本'}}</text>
            <text class="normal">{{lossTotal}}{{fenxiType == 'weightEcharts' ? disGoods.gbDgGoodsStandardname : '元'}}</text>
          </view>
        </view>

        <view id="3" class="navbar-item {{tab1Index==3?'bar-item-on':''}}" data-index='3' bindtap='onTab1Click' hover-class="hover" data-type="waste">
          <view class='flex-column' style="width: {{(windowWidth- 40)  / 4}}rpx;">
            <text class="middle">{{fenxiType == 'weightEcharts' ? '废弃数量' : '废弃成本'}}</text>
            <text class="normal">{{wasteTotal}}{{fenxiType == 'weightEcharts' ? disGoods.gbDgGoodsStandardname : '元'}}</text>
          </view>
        </view>

        <view class="navbar-slider" style="left: {{sliderLeft}}rpx; width:{{(windowWidth - 40)/ 4  }}rpx; transform: translateX({{sliderOffset}}px); -webkit-transform: translateX({{sliderOffset}}px);">
        </view>
      </view>

      <!-- depSwiper -->
      <swiper duration="300" bindanimationfinish="animationfinishDepType" current="{{itemIndexDep}}" data-index='{{itemIndexDep}}' style="height: {{windowHeight - 280 - statusBarHeight}}rpx; " wx:if="{{resultDepList.length > 0}}">

        <!-- all Dep -->
        <swiper-item style="height: {{windowHeight - 280 - statusBarHeight}}rpx; ">
          <scroll-view scroll-y style="height:{{ windowHeight - 280 - statusBarHeight}}rpx;">
            <swiper class="swiper-box" style="height: {{windowHeight - 280}}rpx; " duration="300" bindanimationfinish="animationfinish" current="{{itemIndex}}" data-index='{{itemIndex}}'>
              <!-- totalWeight -->
              <swiper-item style="height: 100%;">

                <scroll-view wx:if="{{itemList.length > 0}}" scroll-y style="height:{{windowHeight - 400}}rpx; ">
                  <view class="flex-column p-20">
                    <view class="flex-column echarts_back  p-20 ">
                      <view class="" style="width: {{windowWidth - 100}}rpx; height: {{windowHeight / 4}}rpx; ">

                        <ec-canvas wx:if="{{tab1Index == 0}}" id="mychartTop" canvas-id="mychart-bar" ec="{{ eca }}"></ec-canvas>

                      </view>
                    </view>


                  </view>
                  <view  wx:for="{{itemList}}" wx:key="date">
                    <view class="flex-row-between p-20 border-bottom bg-white radius-20" bindtap="toDepReduce" data-date="{{item.date}}" data-value="{{item.value}}">
                      <text>{{item.date}}</text>
                      <text>{{item.value}}{{disGoods.gbDgGoodsStandardname}}</text>
                    </view>

                  </view>

                  <view style="height: 100rpx;"></view>

                </scroll-view>

                <view class="emptyView {{itemList.length == 0  ? 'is-active' : ''}}" style="height: {{windowHeight - 760}}rpx; text-align:center;">
                  <view class="empty_View flex-column-center">
                    <image class="empty_image" src="../../../../images/file-empty.png"></image>
                    <text class="normal">暂无数据</text>
                  </view>
                </view>

              </swiper-item>
              <!-- sales -->
              <swiper-item style="height: 100%;">

                <scroll-view scroll-y wx:if="{{itemList.length > 0}}" style="height:{{windowHeight - 400}}rpx; ">
                  <view class="flex-column p-20">
                    <view class="flex-column picture_body  p-20 ">
                      <view class="" style="width: {{windowWidth - 100}}rpx; height: {{windowHeight / 4}}rpx;">
                        <ec-canvas wx:if="{{tab1Index == 1}}" id="mychartSales" canvas-id="mychart-bar" ec="{{ ecs }}"></ec-canvas>
                      </view>
                    </view>
                  </view>

                  <view  wx:for="{{itemList}}" wx:key="date">
                    <view class="flex-row-between p-20 border-bottom bg-white" bindtap="toDepReduce" data-date="{{item.date}}" data-value="{{item.value}}">
                      <text>{{item.date}}</text>
                      <text>{{item.value}}{{disGoods.gbDgGoodsStandardname}}</text>
                    </view>
                  </view>

                  <view style="height: 100rpx;"></view>
                </scroll-view>

                <view class="emptyView {{itemList.length == 0  ? 'is-active' : ''}}" style="height: {{windowHeight - 760}}rpx; text-align:center;">
                  <view class="empty_View flex-column-center">
                    <image class="empty_image" src="../../../../images/file-empty.png"></image>
                    <text class="normal">暂无数据</text>
                  </view>
                </view>
              </swiper-item>

              <!-- loss -->
              <swiper-item style="height: 100%;">

                <scroll-view scroll-y style="height:{{windowHeight - 400}}rpx;  " wx:if="{{itemList.length > 0}}">
                  <view class="flex-column p-20">
                    <view class="flex-column picture_body  p-20 ">

                      <view class="" style="width: {{windowWidth - 100}}rpx; height: {{windowHeight / 4}}rpx; ">
                        <ec-canvas wx:if="{{tab1Index == 2}}" id="mychartLoss" canvas-id="mychart-bar" ec="{{ ecl }}"></ec-canvas>

                      </view>
                    </view>
                  </view>

                  <view  wx:for="{{itemList}}" wx:key="date">
                    <view class="flex-row-between p-20 border-bottom bg-white" bindtap="toDepReduce" data-date="{{item.date}}" data-value="{{item.value}}">
                      <text>{{item.date}}</text>
                      <text>{{item.value}}{{disGoods.gbDgGoodsStandardname}}</text>
                    </view>

                  </view>
                  <view style="height: 100rpx;"> </view>
                </scroll-view>


                <view class="emptyView {{itemList.length == 0  ? 'is-active' : ''}}" style="height: {{windowHeight - 760}}rpx; text-align:center;">
                  <view class="empty_View flex-column-center">
                    <image class="empty_image" src="../../../../images/file-empty.png"></image>
                    <text class="normal">暂无数据</text>
                  </view>
                </view>

              </swiper-item>

              <!-- waste -->
              <swiper-item style="height: 100%;">

                <scroll-view scroll-y wx:if="{{itemList.length > 0}}" style="height:{{windowHeight - 400}}rpx; ">
                  <view class="flex-column p-20">
                    <view class="flex-column picture_body  p-20 ">

                      <view class="" style="width: {{windowWidth - 100}}rpx; height: {{windowHeight / 4}}rpx;">
                        <ec-canvas wx:if="{{tab1Index == 3}}" id="mychartWaste" canvas-id="mychart-bar" ec="{{ ecw }}"></ec-canvas>

                      </view>
                    </view>
                  </view>

                  <view  wx:for="{{itemList}}" wx:key="date">
                    <view class="flex-row-between p-20 border-bottom bg-white" bindtap="toDepReduce" data-date="{{item.date}}" data-value="{{item.value}}">
                      <text>{{item.date}}</text>
                      <text>{{item.value}}{{disGoods.gbDgGoodsStandardname}}</text>
                    </view>
                  </view>
                  <view style="height: 100rpx;"></view>
                </scroll-view>

                <view class="emptyView {{itemList.length == 0  ? 'is-active' : ''}}" style="height: {{windowHeight - 760}}rpx; text-align:center;">
                  <view class="empty_View flex-column-center">
                    <image class="empty_image" src="../../../../images/file-empty.png"></image>
                    <text class="normal">暂无数据</text>
                  </view>
                </view>
              </swiper-item>

            </swiper>
          </scroll-view>
        </swiper-item>

      </swiper>
    </block>
    <view wx:else="">

      <view class="flex-column">
        <view class="emptyView is-active " style="height: {{windowHeight - 760}}rpx; text-align:center;">
          <view class="empty_View flex-column-center">
            <image class="empty_image" src="../../../../images/file-empty.png"></image>
            <text class="normal">暂无数据</text>
          </view>
        </view>
      </view>

    </view>



  </block>




</block>

</view>
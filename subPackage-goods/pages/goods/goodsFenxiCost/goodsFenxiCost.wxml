<wxs src="../../../../utils/fn.wxs" module="tool" />

<view class="flex flex-column">

  <back-navbar style="height: {{navBarHeight}}rpx;" title="{{disGoods.gbDgGoodsName}}" avatar="/images/back-gray.png" button-text="è®¾ç½®" bindnavbuttontap="toBack"></back-navbar>

  <!--  top -->
  <view class=" flex-row-between pl-20 pr-20 border-bottom bg-white">
    <view class="flex-row">
      <view class="p-20" bindtap="toDatePage">
        <image src="../../../../images/calender.png" class="icon"></image>
      </view>
      <view class="flex-column pt-10">
        <view class="font-yuan">{{hanzi}}</view>
        <view class="flex-row" wx:if="{{startDate == stopDate}}">
          <view class=" small" wx:if="{{startDate}}"> {{tool.transferDateString(startDate)}}</view>
        </view>
        <view class="flex-row" wx:else>
          <view class="" wx:if="{{startDate}}"> {{tool.transferDateString(startDate)}}</view>
          <text class="plr-10">-</text>
          <view class="" wx:if="{{stopDate}}">{{tool.transferDateString(stopDate)}}</view>
        </view>
      </view>
    </view>

    <!-- <view class="flex-row p-20" bindtap="toFilterType">
      <image src="{{searchDepId !== -1 ? '../../../../images/filter.png' : '../../../../images/filter-3-fill.png'}}" class="icon mr-20"></image>
    </view> -->
  </view>

  <!-- éƒ¨é—¨ç­›é€‰æ˜¾ç¤ºåŒºåŸŸ -->
  <view class="filter-container" wx:if="{{selectedDepartment}}">
    <view class="filter-row">
      <view class="filter-chip">
        <text class="filter-text">éƒ¨é—¨: {{selectedDepartment.depName}}</text>
        <view class="filter-delete" bindtap="clearDepartmentFilter">
          <image src="/images/del-2.png" mode="aspectFill" class="delete-icon"></image>
        </view>
      </view>
    </view>
  </view>

  <view class="flex-column" wx:if="{{aiAnalysis}}">

    <!-- AIæ™ºèƒ½åˆ†æå¡ç‰‡ -->
    <view class="ai-analysis-card" wx:if="{{aiAnalysis}}">

      <!-- å…³é”®æŒ‡æ ‡åŒºåŸŸ -->
      <block wx:if="{{aiAnalysis.type == 'fresh'}}">
        <view class="ai-metrics-section">
          <view class="metrics-title">ğŸ“Š å…³é”®æŒ‡æ ‡</view>
          <view class="metrics-grid">

            <view class="metric-item">
              <view class="metric-label">æ”¯å‡ºç”¨é‡</view>
              <view class="metric-value">
                {{oneTotalWeight}}{{disGoods.gbDgGoodsStandardname}}
              </view>
            </view>
            <view class="metric-item">
              <view class="metric-label">æ”¯å‡ºæˆæœ¬</view>
              <view class="metric-value metric-info">
                {{oneTotal}}å…ƒ
              </view>
            </view>

            <view class="metric-item">
              <view class="metric-label">å¹³å‡ç”¨é‡</view>
              <view class="metric-value">
                {{aiAnalysis.averageWeight}}{{disGoods.gbDgGoodsStandardname}}/å¤©
              </view>
            </view>
            <view class="metric-item">
              <view class="metric-label">å¹³å‡æˆæœ¬</view>
              <view class="metric-value metric-info">
                {{aiAnalysis.averageSubtotal}}å…ƒ/å¤©
              </view>
            </view>
            <view class="metric-item">
              <view class="metric-label">åº“å­˜</view>
              <view class="metric-value">
                {{aiAnalysis.stockWeight}}{{disGoods.gbDgGoodsStandardname}}
              </view>
            </view>
            <view class="metric-item">
              <view class="metric-label">åº“å­˜é‡‘é¢</view>
              <view class="metric-value">
                {{aiAnalysis.stockSubtotal}}å…ƒ
              </view>
            </view>


            <view class="metric-item">
              <view class="metric-label">æŸè€—ç‡</view>
              <view class="flex-column-center">
                <view class="metric-value {{aiAnalysis.lossRate > 10 ? 'metric-warning' : 'metric-success'}}">
                  {{aiAnalysis.lossRate}}%
                </view>
                <text class="font-yuan text-secondary">{{lossTotalWeight}}{{disGoods.gbDgGoodsStandardname}}</text>
              </view>

            </view>
            <view class="metric-item">
              <view class="metric-label">æµªè´¹ç‡</view>
              <view class="flex-column-center">
                <view class="metric-value {{aiAnalysis.wasteRate > 5 ? 'metric-danger' : 'metric-success'}}">
                  {{aiAnalysis.wasteRate}}%
                </view>
                <text class="font-yuan text-secondary">{{wasteTotalWeight}}{{disGoods.gbDgGoodsStandardname}}</text>
              </view>

            </view>

          </view>
        </view>
      </block>
      <block wx:else="">
        <view class="ai-metrics-section">
          <view class="metrics-title">ğŸ“Š å…³é”®æŒ‡æ ‡</view>
          <view class="metrics-grid">
            <view class="metric-item">
              <view class="metric-label">æ”¯å‡ºç”¨é‡</view>
              <view class="metric-value">
                {{oneTotalWeight}}{{disGoods.gbDgGoodsStandardname}}
              </view>
            </view>
            <view class="metric-item">
              <view class="metric-label">æ”¯å‡ºæˆæœ¬</view>
              <view class="metric-value metric-info">
                {{oneTotal}}å…ƒ
              </view>
            </view>

            <view class="metric-item">
              <view class="metric-label">å¹³å‡ç”¨é‡</view>
              <view class="metric-value">
                {{aiAnalysis.averageWeight}}{{disGoods.gbDgGoodsStandardname}}/å¤©
              </view>
            </view>
            <view class="metric-item">
              <view class="metric-label">å¹³å‡æˆæœ¬</view>
              <view class="metric-value metric-info">
                {{aiAnalysis.averageSubtotal}}å…ƒ/å¤©
              </view>
            </view>
            <view class="metric-item">
              <view class="metric-label">åº“å­˜</view>
              <view class="metric-value">
                {{aiAnalysis.stockWeight}}{{disGoods.gbDgGoodsStandardname}}
              </view>
            </view>
            <view class="metric-item">
              <view class="metric-label">åº“å­˜é‡‘é¢</view>
              <view class="metric-value">
                {{aiAnalysis.stockSubtotal}}å…ƒ
              </view>
            </view>

          </view>
        </view>
      </block>

      <!-- è­¦å‘Šä¿¡æ¯åŒºåŸŸ -->
      <view class="ai-warnings-section" wx:if="{{aiAnalysis.warnings && aiAnalysis.warnings.length > 0}}">
        <view class="section-header" bindtap="toggleWarnings">
          <view class="section-title">
            <text class="warning-icon">âš ï¸</text>
            <text>è­¦å‘Šä¿¡æ¯ ({{aiAnalysis.warnings.length}}æ¡)</text>
          </view>
          <image src="../../../../images/arrow-down.png" class="toggle-icon {{warningsExpanded ? 'expanded' : 'collapsed'}}" mode="aspectFit"></image>
        </view>
        <view class="warnings-content {{warningsExpanded ? 'expanded' : 'collapsed'}}">
          <view class="warning-item" wx:for="{{aiAnalysis.warnings}}" wx:key="index">
            <text class="warning-text">{{item}}</text>
          </view>
        </view>
      </view>

      <!-- å»ºè®®ä¿¡æ¯åŒºåŸŸ -->
      <view class="ai-suggestions-section" wx:if="{{aiAnalysis.suggestions && aiAnalysis.suggestions.length > 0}}">
        <view class="section-header" bindtap="toggleSuggestions">
          <view class="section-title">
            <text class="suggestion-icon">ğŸ’¡</text>
            <text>æ™ºèƒ½å»ºè®® ({{aiAnalysis.suggestions.length}}æ¡)</text>
          </view>
          <image src="../../../../images/arrow-down.png" class="toggle-icon {{suggestionsExpanded ? 'expanded' : 'collapsed'}}" mode="aspectFit"></image>
        </view>
        <view class="suggestions-content {{suggestionsExpanded ? 'expanded' : 'collapsed'}}">
          <view class="suggestion-item" wx:for="{{aiAnalysis.suggestions}}" wx:key="index">
            <text class="suggestion-text">{{item}}</text>
          </view>
        </view>
      </view>


    </view>

    <!-- å¢åŠ æ—¥æ”¯å‡ºæŸ±å½¢å›¾ï¼Œåˆ¶ä½œï¼ŒæŸè€—ï¼ŒåºŸå¼ƒç”¨ä¸‰ç§é¢œè‰²ï¼Œåœ¨åŒä¸€å¤©è¿›è¡Œæ ‡æ³¨ -->
    <view class=" bg-white p-20" style="height: 400rpx;">
      <!-- <view class="chart-title p-20">æ—¥æ”¯å‡ºç»Ÿè®¡</view> -->
      <view wx:if="{{produceList.length > 0 || lossList.length > 0 || wasteList.length > 0}}">
        <ec-canvas id="dailyChart" canvas-id="dailyChart" class="chart">
        </ec-canvas>
      </view>

    </view>

    <view scroll-y wx:if="{{oneTotal > 0}}" style="height:{{windowHeight - 400}}rpx; ">

      <view class="flex-column ">
        <view class="flex-row-default p-20  border-bottom bg-white " wx:for="{{itemList}}" wx:key="index" wx:for-item="everyday" wx:for-index="dayIndex">

         
          <view class="flex-column" wx:for="{{everyday.arr}}" wx:for-item="day" wx:for-index="itemIndex" wx:key="itemIndex" style="width: {{windowWidth - 40}}rpx;">

            <view class="flex-column font-md " wx:for="{{day.departmentGoodsDailyEntity.wasteReduceList}}" wx:for-item="reduceDay" wx:for-index="reduceIndex" wx:key="reduceIndex">

              <!-- é»˜è®¤æ˜¾ç¤º -->
              <view id="src-{{itemIndex}}-{{dayIndex}}-{{reduceIndex}}" class="stock-row-container " data-index="{{reduceIndex}}" data-item-index="{{itemIndex}}" data-day-index="{{dayIndex}}">
                <view class="stock-row {{expandedRows[itemIndex + '_' + dayIndex + '_' + reduceIndex] ? 'stock-row-active' : ''}}" bind:tap="showOne" data-index="{{reduceIndex}}" data-item-index="{{itemIndex}}" data-day-index="{{dayIndex}}">

                  <!-- å·¦ä¾§ä¿¡æ¯åŒºåŸŸ -->
                  <view class="stock-info-left">
                    <view class="stock-department">{{day.gbDepartmentName}}</view>
                    <view class="stock-date">{{tool.transferDateString(reduceDay.gbDgsrDate)}}</view>
                  </view>

                  <!-- ä¸­é—´ä»·æ ¼æ•°é‡åŒºåŸŸ -->
                  <view class="stock-info-center">
                    <block wx:if="{{reduceDay.gbDgsrType == 1}}">
                      <view class="stock-amount">{{reduceDay.gbDgsrProduceSubtotal}}å…ƒ</view>
                      <view class="stock-quantity">{{reduceDay.gbDgsrProduceWeight}}{{disGoods.gbDgGoodsStandardname}}</view>
                      <view class="stock-type sales-type">å”®å‡º</view>
                    </block>
                    <block wx:if="{{reduceDay.gbDgsrType == 2}}">
                      <view class="stock-amount">{{reduceDay.gbDgsrWasteSubtotal}}å…ƒ</view>
                      <view class="stock-quantity">{{reduceDay.gbDgsrWasteWeight}}{{disGoods.gbDgGoodsStandardname}}</view>
                      <view class="stock-type waste-type">åºŸå¼ƒ</view>
                    </block>
                    <block wx:if="{{reduceDay.gbDgsrType == 3}}">
                      <view class="stock-amount">{{reduceDay.gbDgsrLossSubtotal}}å…ƒ</view>
                      <view class="stock-quantity">{{reduceDay.gbDgsrLossWeight}}{{disGoods.gbDgGoodsStandardname}}</view>
                      <view class="stock-type loss-type">æŸè€—</view>
                    </block>
                    <block wx:if="{{reduceDay.gbDgsrType == 4}}">
                      <view class="stock-amount">{{reduceDay.gbDgsrReturnSubtotal}}å…ƒ</view>
                      <view class="stock-quantity">{{reduceDay.gbDgsrReturnWeight}}{{disGoods.gbDgGoodsStandardname}}</view>
                      <view class="stock-type return-type">é€€è´§</view>
                    </block>
                  </view>

                  <!-- å³ä¾§ç®­å¤´åŒºåŸŸ -->
                  <view class="stock-info-right">
                    <view class="stock-arrow">
                      <image src="/images/arrow-right-3.png" mode="aspectFill" class="arrow-icon {{expandedRows[itemIndex + '_' + dayIndex + '_' + reduceIndex] ? 'expanded' : 'collapsed'}}" />
                    </view>
                  </view>

                </view>
              </view>

              <!-- æ˜¾ç¤ºåº“å­˜æ‰¹æ¬¡ä¿¡æ¯ -->
              <view wx:if="{{expandedRows[itemIndex + '_' + dayIndex + '_' + reduceIndex]}}" class="stock-info-card expandable-content expanded" bind:tap="toCost" hover-class="hover">

                <!-- å›¾æ ‡ + æ ‡é¢˜ -->
                <view class="info-header">
                  <view class="flex-row-between" style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                    <view class="flex-row">
                      <image src="../../../../images/gouwuche.png" class="info-header-icon"></image>
                      <text class="info-header-title">å…¥åº“ä¿¡æ¯</text>
                    </view>
                    <view class="flex-row">
                      <image src="/images/search.png" mode="aspectFill" class="icon p-10" />
                    </view>
                  </view>

                </view>

                <view class="info-item">
                  <text class="info-label">å…¥åº“æ—¶é—´</text>
                  <text class="info-value">{{reduceDay.gbDepartmentGoodsStockEntity.gbDgsDate}}</text>
                </view>
                <view class="info-item">
                  <text class="info-label">å…¥åº“æ•°é‡</text>
                  <text class="info-value">{{reduceDay.gbDepartmentGoodsStockEntity.gbDgsWeight}}{{disGoods.gbDgGoodsStandardname}}</text>
                </view>
                <view class="info-item">
                  <text class="info-label">å…¥åº“å•ä»·</text>
                  <text class="info-value">{{reduceDay.gbDepartmentGoodsStockEntity.gbDgsPrice}}å…ƒ/{{disGoods.gbDgGoodsStandardname}}</text>
                </view>
                <view class="info-item">
                  <text class="info-label">å…¥åº“é‡‘é¢</text>
                  <text class="info-value info-value-amount">{{reduceDay.gbDepartmentGoodsStockEntity.gbDgsSubtotal}}å…ƒ</text>
                </view>
                <view class="info-item">
                  <text class="info-label">ç°åº“å­˜</text>
                  <text class="info-value">{{reduceDay.gbDepartmentGoodsStockEntity.gbDgsRestWeight}}{{disGoods.gbDgGoodsStandardname}}</text>
                </view>


                <view class="info-item {{reduceDay.gbDgsrType == 1 ? 'active' : ''}}">
                  <text class="info-label">é”€å”®</text>
                  <view class="flex-row">
                    <text class="info-value info-value-amount mr-10">{{reduceDay.gbDepartmentGoodsStockEntity.gbDgsProduceSubtotal}}å…ƒ</text>
                    <text class="font-xs">({{reduceDay.gbDepartmentGoodsStockEntity.gbDgsProduceWeight}}{{disGoods.gbDgGoodsStandardname}})</text>
                  </view>
                </view>
                <view class="info-item  {{reduceDay.gbDgsrType == 3 ? 'active' : ''}}">
                  <text class="info-label">æŸè€—</text>
                  <view class="flex-row">
                    <text class="info-value info-value-amount mr-10">{{reduceDay.gbDepartmentGoodsStockEntity.gbDgsLossSubtotal}}å…ƒ</text>
                    <text class="font-xs">({{reduceDay.gbDepartmentGoodsStockEntity.gbDgsLossWeight}}{{disGoods.gbDgGoodsStandardname}})</text>
                  </view>
                </view>
                <view class="info-item  {{reduceDay.gbDgsrType == 2 ? 'active' : ''}}">
                  <text class="info-label">åºŸå¼ƒ</text>
                  <view class="flex-row">
                    <text class="info-value info-value-amount mr-10">{{reduceDay.gbDepartmentGoodsStockEntity.gbDgsWasteSubtotal}}å…ƒ</text>
                    <text class="font-xs">({{reduceDay.gbDepartmentGoodsStockEntity.gbDgsWasteWeight}}{{disGoods.gbDgGoodsStandardname}})</text>
                  </view>
                  
                </view>
                <view class="info-item  {{reduceDay.gbDgsrType == 4 ? 'active' : ''}}">
                  <text class="info-label">é€€è´§</text>
                  <view class="flex-row">
                    <text class="info-value info-value-amount mr-10">{{reduceDay.gbDepartmentGoodsStockEntity.gbDgsReturnSubtotal}}å…ƒ</text>
                    <text class="font-xs">({{reduceDay.gbDepartmentGoodsStockEntity.gbDgsReturnWeight}}{{disGoods.gbDgGoodsStandardname}})</text>
                  </view>
                  
                </view>

                <!-- é‡‡è´­ä¿¡æ¯ - ç›´æ¥æ˜¾ç¤ºåœ¨åº“å­˜ä¿¡æ¯ä¸‹é¢ -->
                <view class="purchase-info-section" bind:tap="toFenxi" data-item="{{item}}" data-id="{{disGoods.gbDistributerGoodsId}}" hover-class="hover" data-purid="{{reduceDay.gbDepartmentGoodsStockEntity.purchaseGoodsEntity.gbDistributerPurchaseGoodsId}}">
                  <!-- åˆ†éš”çº¿ -->
                  <view class="section-divider"></view>

                  <!-- å›¾æ ‡ + æ ‡é¢˜ -->
                  <view class="info-header">
                    <view class="flex-row-between" style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                      <view class="flex-row">
                        <image src="../../../../images/gouwuche.png" class="info-header-icon"></image>
                        <text class="info-header-title">é‡‡è´­ä¿¡æ¯</text>
                      </view>
                      <view class="flex-row">
                        <image src="/images/search.png" mode="aspectFill" class="icon p-10" />
                      </view>
                    </view>
                  </view>

                  <view class="info-item">
                    <text class="info-label">é‡‡è´­æ—¶é—´</text>
                    <text class="info-value">{{reduceDay.gbDepartmentGoodsStockEntity.purchaseGoodsEntity.gbDpgStockFinishDate}}</text>
                  </view>

                  <view class="info-item">
                    <text class="info-label">å•ä»·</text>
                    <text class="info-value">{{reduceDay.gbDepartmentGoodsStockEntity.purchaseGoodsEntity.gbDpgBuyPrice}}å…ƒ/{{disGoods.gbDgGoodsStandardname}}</text>
                  </view>

                  <view class="info-item">
                    <text class="info-label">æ•°é‡</text>
                    <text class="info-value">{{reduceDay.gbDepartmentGoodsStockEntity.purchaseGoodsEntity.gbDpgBuyQuantity}}{{disGoods.gbDgGoodsStandardname}}</text>
                  </view>

                  <view class="info-item">
                    <text class="info-label">é‡‡è´­é‡‘é¢</text>
                    <text class="info-value info-value-amount">{{reduceDay.gbDepartmentGoodsStockEntity.purchaseGoodsEntity.gbDpgBuySubtotal}}å…ƒ</text>
                  </view>

                  <block wx:if="{{reduceDay.gbDepartmentGoodsStockEntity.purchaseGoodsEntity.purchaseDepartmentUser !== null}}">
                    <view class="info-item">
                      <text class="info-label">é‡‡è´­å‘˜</text>
                      <text class="info-value">{{reduceDay.gbDepartmentGoodsStockEntity.purchaseGoodsEntity.purchaseDepartmentUser.gbDuWxNickName}}</text>
                    </view>
                  </block>

                  <block wx:elif="{{reduceDay.gbDepartmentGoodsStockEntity.purchaseGoodsEntity.nxJrdhSupplierEntity !== null}}">
                    <view class="info-item">
                      <text class="info-label">ä¾›è´§å•†</text>
                      <text class="info-value">{{reduceDay.gbDepartmentGoodsStockEntity.purchaseGoodsEntity.nxJrdhSupplierEntity.nxJrdhsSupplierName}}</text>
                    </view>
                  </block>
                </view>
              </view>
              <!-- é‡‡è´­æ‰¹æ¬¡çš„æ‰€æœ‰åº“å­˜æ‰¹æ¬¡ï¼ˆåŒ…æ‹¬ä¸šåŠ¡çš„åº“å­˜æ‰¹æ¬¡ï¼‰ -->
              <block>
                <view wx:if="{{expandedRows[itemIndex + '_' + dayIndex + '_' + reduceIndex] === 'purchase'}}" class="purchase-info-card expandable-content expanded" bind:tap="toFenxi" data-item="{{item}}" data-id="{{disGoods.gbDistributerGoodsId}}" hover-class="hover" data-purid="{{reduceDay.gbDepartmentGoodsStockEntity.purchaseGoodsEntity.gbDistributerPurchaseGoodsId}}">

                  <!-- å›¾æ ‡ + æ ‡é¢˜ -->
                  <view class="info-header">
                    <view class="flex-row-between" style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
                      <view class="flex-row">
                        <image src="../../../../images/gouwuche.png" class="info-header-icon"></image>
                        <text class="info-header-title">é‡‡è´­ä¿¡æ¯</text>
                      </view>
                      <view class="flex-row">
                        <image src="/images/search.png" mode="aspectFill" class="icon p-10" />
                      </view>
                    </view>

                  </view>

                  <view class="info-item">
                    <text class="info-label">é‡‡è´­æ—¶é—´</text>
                    <text class="info-value">{{reduceDay.gbDepartmentGoodsStockEntity.purchaseGoodsEntity.gbDpgStockFinishDate}}</text>
                  </view>

                  <view class="info-item">
                    <text class="info-label">å•ä»·</text>
                    <text class="info-value">{{reduceDay.gbDepartmentGoodsStockEntity.purchaseGoodsEntity.gbDpgBuyPrice}}å…ƒ/{{disGoods.gbDgGoodsStandardname}}</text>
                  </view>

                  <view class="info-item">
                    <text class="info-label">æ•°é‡</text>
                    <text class="info-value">{{reduceDay.gbDepartmentGoodsStockEntity.purchaseGoodsEntity.gbDpgBuyQuantity}}{{disGoods.gbDgGoodsStandardname}}</text>
                  </view>

                  <view class="info-item">
                    <text class="info-label">é‡‡è´­é‡‘é¢</text>
                    <text class="info-value info-value-amount">{{reduceDay.gbDepartmentGoodsStockEntity.purchaseGoodsEntity.gbDpgBuySubtotal}}å…ƒ</text>
                  </view>

                  <block wx:if="{{reduceDay.gbDepartmentGoodsStockEntity.purchaseGoodsEntity.purchaseDepartmentUser !== null}}">
                    <view class="info-item">
                      <text class="info-label">é‡‡è´­å‘˜</text>
                      <text class="info-value">{{reduceDay.gbDepartmentGoodsStockEntity.purchaseGoodsEntity.purchaseDepartmentUser.gbDuWxNickName}}</text>
                    </view>
                  </block>

                  <block wx:elif="{{reduceDay.gbDepartmentGoodsStockEntity.purchaseGoodsEntity.nxJrdhSupplierEntity !== null}}">
                    <view class="info-item">
                      <text class="info-label">ä¾›è´§å•†</text>
                      <text class="info-value">{{reduceDay.gbDepartmentGoodsStockEntity.purchaseGoodsEntity.nxJrdhSupplierEntity.nxJrdhsSupplierName}}</text>
                    </view>
                  </block>

                </view>

                <!-- é‡‡è´­æ‰¹æ¬¡çš„æ¯ä¸ªåº“å­˜ä¿¡æ¯ -->
                <view class="other-stock-card" wx:for="{{reduceDay.gbDepartmentGoodsStockEntity.purchaseGoodsEntity.gbDepartmentGoodsStockEntities}}" wx:for-item="purStock" wx:if="{{purStock.gbDepartmentEntity.gbDepartmentId !== day.gbDepartmentId}}">

                  <view class="flex-column p-20 font-sm">
                    <view class="other-stock-item">
                      <text class="other-stock-label">å…¥åº“éƒ¨é—¨</text>
                      <text class="other-stock-value">{{purStock.gbDepartmentEntity.gbDepartmentName}}</text>
                    </view>
                    <view class="other-stock-item">
                      <text class="other-stock-label">å…¥åº“æ•°é‡</text>
                      <text class="other-stock-value">{{purStock.gbDgsWeight}}{{disGoods.gbDgGoodsStandardname}}</text>
                    </view>
                    <view class="other-stock-item">
                      <text class="other-stock-label">é”€å”®æ•°é‡</text>
                      <text class="other-stock-value">{{purStock.gbDgsProduceWeight}}{{disGoods.gbDgGoodsStandardname}}</text>
                    </view>
                    <view class="other-stock-item">
                      <text class="other-stock-label">æŸè€—æ•°é‡</text>
                      <text class="other-stock-value">{{purStock.gbDgsLossWeight}}{{disGoods.gbDgGoodsStandardname}}</text>
                    </view>
                    <view class="other-stock-item">
                      <text class="other-stock-label">åºŸå¼ƒæ•°é‡</text>
                      <text class="other-stock-value">{{purStock.gbDgsWasteWeight}}{{disGoods.gbDgGoodsStandardname}}</text>
                    </view>
                    <view class="other-stock-item">
                      <text class="other-stock-label">é€€è´§æ•°é‡</text>
                      <text class="other-stock-value">{{purStock.gbDgsReturnWeight}}{{disGoods.gbDgGoodsStandardname}}</text>
                    </view>
                    <view class="other-stock-item">
                      <text class="other-stock-label">åº“å­˜æ•°é‡</text>
                      <text class="other-stock-value">{{purStock.gbDgsRestWeight}}{{disGoods.gbDgGoodsStandardname}}</text>
                    </view>
                  </view>



                </view>

              </block>

            </view>
          </view>


        </view>
      </view>

      <view class="font-xs text-secondary flex-column-center" style="height: 100rpx;">æ²¡æœ‰æ•°æ®æ‹‰ï¼</view>

    </view>


  </view>

  <view wx:else>
    <!-- </block> -->

    <view class="" style="height: {{windowHeight - 360}}rpx;">

      <view class="center-content flex-column" style="padding-top: 200rpx;">
        <image class="empty_image" src="/images/cart-Empty.png"></image>
        <text class="big">æ— æ•°æ®</text>
      </view>

    </view>
    <!-- ./empty -->
  </view>


</view>